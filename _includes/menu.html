{%- assign default_paths = site.pages | map: "path" -%}
{%- assign page_paths = site.header_pages | default: default_paths -%}

<a href="#content" class="skip-menu">
  skip menu
</a>
<a class="menu-toggle" tabindex="-1">
  <span class="menu-toggle-text">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </span>
</a>
<ul class="menu" id="menu">
  {%- for path in page_paths -%}
  {%- assign current_page = site.pages | where: "path", path | first -%}
  {%- if current_page.title -%}
  <li class="menu-item">
    <a href="{{ current_page.url | relative_url }}" class="menu-link{% if page.url == current_page.url %} active{% endif %}">
      {{ current_page.title | escape }}
    </a>
  </li>
  {%- endif -%}
  {%- endfor -%}
</ul>
